FROM continuumio/miniconda3:latest

RUN conda update conda

RUN conda install pytest flake8 pydocstyle -c defaults
RUN conda install astra-toolbox -c astra-toolbox/label/dev
RUN conda install hyperspy opencv tomopy -c conda-forge

RUN apt-get update -q
RUN apt-get -y install g++
RUN pip install pystackreg
RUN apt-get install -qy xvfb
RUN apt-get install python3-pyqt5 -y